{"version":3,"sources":["components/DeleteItemModal.js","components/YddItem.js","components/YddItemList.js","components/DeleteRequestModal.js","components/YddRequest.js","components/YddRequestList.js","components/Header.js","components/Footer.js","components/AddNewRequestModal.js","App.js","Config.js","theme.js","index.js"],"names":["DeleteItemModal","props","Dialog","open","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","item","title","DialogActions","Button","onClick","onDelete","color","variant","autoFocus","onCancel","YddItem","status","progress","useState","isDeleteItemModalOpen","setDeleteItemModalOpen","StatusIcon","ProgressText","toFixed","TableRow","key","TableCell","style","padding","width","align","IconButton","event","YddItemList","Table","size","aria-label","margin","TableBody","items","map","onItemDelete","DeleteRequestModal","request","url","useRowStyles","makeStyles","root","YddRequest","type","uploader","isDeleteRequestModalOpen","setDeleteRequestModalOpen","isRowOpen","setRowOpen","classes","TitleText","ItemsRow","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","RequestIcon","ExpandableButtonCell","className","component","scope","YddRequestList","TableContainer","Paper","TableHead","requests","requestId","itemId","useStyles","theme","flexGrow","menuButton","marginRight","toolBar","borderBottom","Header","anchorEl","setAnchorEl","AppBar","position","Toolbar","edge","currentTarget","Menu","keepMounted","Boolean","onClose","console","log","target","value","MenuItem","onAdd","onClear","Typography","Footer","Container","AddNewRequestModal","setUrl","schedule","setSchedule","isValidUrl","setValidUrl","urlHelperText","setUrlHelperText","validateOnBlur","setValidateOnBlur","validateUrl","isValid","match","TextField","label","name","fullWidth","error","helperText","onChange","onBlur","FormControlLabel","control","Checkbox","checked","onSubmit","fab","bottom","spacing","right","App","baseUrl","window","location","protocol","host","replace","setRequests","update","setUpdate","isAddNewModalOpen","setIsAddNewModalOpen","getRequests","axios","get","then","res","data","avgPrg","sum","forEach","length","useEffect","interval","setInterval","clearInterval","delete","marginTop","height","deleteRequest","deleteItem","Fab","post","addRequest","createMuiTheme","palette","danger","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.e973de05.chunk.js","sourcesContent":["import React from 'react'\nimport {Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText, Button} from '@material-ui/core';\n\nexport default function DeleteItemModal(props) {\n    return (\n        <Dialog\n        open={props.open}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">Confirm Deletion</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete the item <b>'{props.item.title}'</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => props.onDelete(props.item.id)} color=\"primary\" variant=\"contained\" autoFocus> Yes </Button>\n          <Button onClick={() => props.onCancel()} color=\"secondary\" variant=\"contained\">No</Button>\n        </DialogActions>\n      </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DeleteItemModal from './DeleteItemModal';\n\nexport default function YddItem(props) {\n  const { id, title, status, progress } = props.item;\n  const [isDeleteItemModalOpen, setDeleteItemModalOpen] = useState(false);\n\n  const StatusIcon = () => {\n    switch (status) {\n      case 0:\n        return <HourglassEmptyIcon />;\n      case 1:\n        return <AutorenewIcon />;\n      case 2:\n        return <PauseIcon />;\n      case 3:\n        return <DoneIcon />;\n      default:\n        return <ErrorIcon />;\n    }\n  }\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  return (\n    <TableRow key={id}>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <StatusIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <YouTubeIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px' }}> <ProgressText /> {title}</TableCell>\n      <TableCell align=\"right\">\n          <IconButton onClick={(event) => setDeleteItemModalOpen(true)} color=\"secondary\"><ClearIcon /></IconButton>\n        </TableCell>\n        <DeleteItemModal open={isDeleteItemModalOpen} item={props.item} onDelete={props.onDelete} onCancel={()=>setDeleteItemModalOpen(false)}/>\n\n    </TableRow>)\n} \n","import React from 'react'\nimport YddItem from './YddItem'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\n\nexport default function YddItemList(props) {\n\n    return (\n        <Table size=\"small\" aria-label=\"purchases\" style={{ margin: '0px 0px 0px 75px', width: '95%' }}>\n            <TableBody>\n                {props.items.map((item) => (\n                    <YddItem key={item.id} item={item} onDelete={props.onItemDelete} />\n                ))}\n            </TableBody>\n        </Table>\n    )\n}\n","import React from 'react'\nimport {Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText, Button} from '@material-ui/core';\n\nexport default function DeleteRequestModal(props) {\n    return (\n        <Dialog\n        open={props.open}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">Confirm Deletion</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete the request <b>'{props.request.url}'</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => props.onDelete(props.request.id)} color=\"primary\" variant=\"contained\" autoFocus> Yes </Button>\n          <Button onClick={() => props.onCancel()} color=\"secondary\" variant=\"contained\">No</Button>\n        </DialogActions>\n      </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport YddItemList from './YddItemList'\nimport { makeStyles } from '@material-ui/core/styles';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport SubscriptionsIcon from '@material-ui/icons/Subscriptions';\nimport DeleteRequestModal from './DeleteRequestModal';\n\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      // borderBottom: 'unset',\n      padding: '5px'\n    },\n  },\n});\n\n\nexport default function YddRequest(props) {\n  const {url, status, progress, items, title, type, uploader } = props.request;\n  const [isDeleteRequestModalOpen, setDeleteRequestModalOpen] = useState(false);\n  const [isRowOpen, setRowOpen] = useState(false);\n  const classes = useRowStyles();\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  const TitleText = () => {\n    return title == null ? url : `${title} [${uploader}]`;\n  }\n\n  const ItemsRow = () => {\n    return type === 'video' ? (<TableRow />) : (\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={isRowOpen} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              <YddItemList items={items} onDelete={props.onDelete} onItemDelete={props.onItemDelete}/>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    )\n  }\n\n  function RequestIcon() {\n    return type === 'video' ? <YouTubeIcon /> : <SubscriptionsIcon />;\n  }\n\n  function StatusIcon() {\n    if (status > 0 && status < 3)\n      return <AutorenewIcon />;\n    else if (status === 0)\n      return <HourglassEmptyIcon />;\n    else if (status === 3)\n      return <DoneIcon />;\n    else\n      return <ErrorIcon />;\n  }\n\n  function ExpandableButtonCell() {\n    return type === 'video' ? (<TableCell />) : (\n      <TableCell style={{ width: '30px' }}>\n        <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setRowOpen(!isRowOpen)}>\n          {isRowOpen ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n        </IconButton>\n      </TableCell>\n    );\n  }\n\n  return (\n    <>\n      <TableRow className={classes.root}>\n        <ExpandableButtonCell />\n        <TableCell style={{ width: '30px' }}><StatusIcon /></TableCell>\n        <TableCell style={{ width: '30px' }}><RequestIcon /></TableCell>\n        <TableCell component=\"th\" scope=\"row\"><ProgressText /> <TitleText /></TableCell>\n        <TableCell align=\"right\">\n          <IconButton onClick={(event) => setDeleteRequestModalOpen(true)} color=\"secondary\"><ClearIcon /></IconButton>\n        </TableCell>\n      </TableRow>\n      <ItemsRow />\n      <DeleteRequestModal open={isDeleteRequestModalOpen} request={props.request} onDelete={props.onDelete} onCancel={()=>setDeleteRequestModalOpen(false)}/>\n    </>\n  )\n}\n","import React from 'react'\nimport YddRequest from './YddRequest';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableContainer from '@material-ui/core/TableContainer';\n\nimport Paper from '@material-ui/core/Paper';\nimport { TableCell, TableHead, TableRow } from '@material-ui/core';\n\nexport default function YddRequestList(props) {\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"collapsible table\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={5}>Download Queue</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {props.requests.map((request) => (\n            <YddRequest key={request.id} request={request} onDelete={(requestId) => props.onDelete(requestId)} onItemDelete={(itemId) => props.onItemDelete(itemId)}/>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { useState } from 'react'\nimport { Typography, IconButton, Toolbar, AppBar, makeStyles, Menu, MenuItem } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: 2,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  toolBar: {\n    //backgroundColor: theme.palette.secondary.dark,\n    borderBottom: 'solid 1px'\n  }\n}));\n\n\nexport default function Header(props) {\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (event) => {\n    console.log(event.target.value)\n    setAnchorEl(null);\n  };\n\n  const classes = useStyles();\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenuClick}>\n            <MenuIcon />\n          </IconButton>\n          <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} >\n            <MenuItem onClick={event => { props.onAdd(); setAnchorEl(null); }}><AddIcon />&nbsp;&nbsp;Add</MenuItem>\n            <MenuItem onClick={() => { props.onClear(); setAnchorEl(null); }}><ClearAllIcon />&nbsp;&nbsp;Clear Completed</MenuItem>\n          </Menu>\n          <Typography className={classes.title} variant=\"h6\" > Download Daemon </Typography>\n        </Toolbar>\n      </AppBar>\n      <Toolbar className={classes.toolBar}>\n        <IconButton onClick={props.onAdd} color=\"inherit\" edge=\"start\" ><AddIcon /></IconButton>\n        <IconButton onClick={props.onClear}><ClearAllIcon /></IconButton>\n      </Toolbar>\n    </>\n  )\n}","import React from 'react'\nimport { Container } from '@material-ui/core'\n\nexport default function Footer() {\n    return (\n        <Container/>\n    )\n}\n","import React, { useState } from 'react'\nimport { Checkbox, Button, TextField, Dialog, DialogActions, \n    DialogContent, FormControlLabel, DialogTitle} from '@material-ui/core'\n\nexport default function AddNewRequestModal(props) {\n    const [url, setUrl] = useState('');\n    const [schedule, setSchedule] = useState(0);\n    const [isValidUrl, setValidUrl] = useState(true);\n    const [urlHelperText, setUrlHelperText] = useState('');\n    const [validateOnBlur, setValidateOnBlur] = useState(false);\n\n    const handleSubmit = (event) => {\n        if(validateUrl(url)){\n          props.onSubmit({ url: url, schedule: schedule });\n        }\n      }\n        \n      const validateUrl = (url) => {\n        let res = url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n        let isValid = (res !== null);\n        \n        setUrlHelperText(isValid? '': 'invalid URL');\n        setValidUrl(isValid);\n        setValidateOnBlur(true);\n    \n        return isValid;\n      }\n    \n      //const classes = useStyles();\n\n    return (\n        <Dialog open={props.open} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">New Download Request</DialogTitle>\n            <DialogContent>\n                <TextField autoFocus margin=\"dense\" id=\"url\" label=\"URL\" type=\"url\" name=\"url\"\n                    fullWidth={true} value={url} error={!isValidUrl} helperText={urlHelperText} onChange={event => setUrl(event.target.value)} onBlur={(event) => { if (validateOnBlur) validateUrl(url) }} />\n                <FormControlLabel label=\"Download during off peak hours\"\n                    control={<Checkbox id=\"schedule\" name=\"schedule\" checked={!schedule} onChange={(event) => setSchedule(!event.target.checked)} />} />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\" autoFocus> Submit </Button>\n                <Button onClick={() => props.onCancel()} variant=\"contained\" color=\"secondary\"> Cancel </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {getApiHost} from './Config';\nimport YddRequestList from './components/YddRequestList';\nimport Header from './components/Header';\nimport Container from '@material-ui/core/Container';\nimport {Fab} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Footer from './components/Footer';\nimport AddNewRequestModal from './components/AddNewRequestModal';\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(5),\n    right: theme.spacing(5),\n  }\n}));\n\nexport default function App() {\n  const baseUrl = getApiHost();\n  const [requests, setRequests] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [isAddNewModalOpen, setIsAddNewModalOpen] = useState(false);\n\n  const classes = useStyles();\n\n  const deleteRequest = requestId => {\n    console.log('delete requested', requestId)\n    axios.delete(baseUrl + '/api/requests/' + requestId)\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const deleteItem = itemId => {\n    console.log('delete item requested', itemId)\n    axios.delete(baseUrl + '/api/items/' + itemId)\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const addRequest = (request) => {\n    axios.post(baseUrl + '/api/requests', request)\n      .then(res => {\n        console.log('submitted')\n        setIsAddNewModalOpen(false);\n        setUpdate(true);\n      })\n  }\n\n  const clearCompletedRequests = () => {\n    console.log('clear completed requested')\n    axios.delete(baseUrl + '/api/requests')\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const avgPrg = (request) => {\n    let sum = 0;\n    request.items.forEach(item => sum += item.progress)\n    return request.items == null || request.items.length === 0 ? 0 : sum / request.items.length;\n  };\n\n  const getRequests = () => {\n    axios.get(baseUrl + '/api/requests')\n      .then(res => {\n        const requests = res.data\n        requests.map((request) => {\n          request.avgPrg = avgPrg(request)\n          return request;\n        });\n        setRequests(requests);\n      })\n  }\n\n  useEffect(() => {\n    getRequests();\n    const interval = setInterval(getRequests, 5000); // runs every 5 seconds.\n\n    return () => clearInterval(interval);\n  }, [])\n\n  useEffect(() => {\n    getRequests();\n  }, [update])\n  \n  return (\n    <>\n    <Header onAdd={()=> setIsAddNewModalOpen(true)} onClear={() => clearCompletedRequests()} />\n    <Container style={{marginTop:'15px', position:'relative', height:'100%'}}>\n      <YddRequestList requests={requests} onDelete={(requestId) => deleteRequest(requestId)} onItemDelete={(itemId) => deleteItem(itemId)} />\n      <Fab size=\"medium\" className={classes.fab} color=\"primary\" aria-label=\"add\" onClick={()=> setIsAddNewModalOpen(true)}>\n        <AddIcon />\n      </Fab>\n    </Container>\n    <Footer></Footer>\n    <AddNewRequestModal open={isAddNewModalOpen} onCancel={()=> setIsAddNewModalOpen(false)} onSubmit={ request => addRequest(request)}/>\n    </>\n  );\n}","export function getApiHost(){\n    return window.location.protocol + '//' + window.location.host.replace('3000', '5000')\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    // primary: {main:'#5dd1e3'},\n    // secondary: {main:'#9e9e9e'},\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n    <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}