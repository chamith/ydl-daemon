(this["webpackJsonpyoutube-dl-webui"]=this["webpackJsonpyoutube-dl-webui"]||[]).push([[0],{107:function(e,t,a){e.exports=a(133)},133:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a.n(r),o=a(17),u=a(41),i=a.n(u);var m=a(190),s=a(176),d=a(177),E=a(172),p=a(171),f=a(87),b=a.n(f),g=a(86),h=a.n(g),v=a(88),y=a.n(v),w=a(43),O=a.n(w),j=a(51),x=a.n(j),C=a(52),k=a.n(C),S=a(53),q=a.n(S),B=a(84),D=a.n(B),N=a(55),A=a.n(N);function F(e){var t=e.item,a=t.id,n=t.title,r=t.status,c=t.progress,o=function(){switch(r){case 0:return l.a.createElement(O.a,null);case 1:return l.a.createElement(x.a,null);case 2:return l.a.createElement(D.a,null);case 3:return l.a.createElement(k.a,null);default:return l.a.createElement(q.a,null)}},u=function(){return r>0&&r<3?" [".concat(c.toFixed(2),"%]"):""};return l.a.createElement(p.a,{key:a},l.a.createElement(E.a,{style:{padding:"6px",width:"30px"}},l.a.createElement(o,null)),l.a.createElement(E.a,{style:{padding:"6px",width:"30px"}},l.a.createElement(A.a,null)),l.a.createElement(E.a,{style:{padding:"6px"}}," ",l.a.createElement(u,null)," ",n))}var z=a(173),R=a(174);function T(e){return l.a.createElement(z.a,{size:"small","aria-label":"purchases",style:{margin:"0px 0px 0px 75px",width:"95%"}},l.a.createElement(R.a,null,e.items.map((function(e){return l.a.createElement(F,{key:e.id,item:e})}))))}var L=a(193),U=a(181),G=a(179),I=a(180),J=a(178),M=a(182),Y=a(175),Z=a(85),_=a.n(Z),P=Object(Y.a)({root:{"& > *":{padding:"5px"}}});function W(e){var t=e.request,a=t.id,r=t.url,c=t.status,u=t.progress,i=t.items,f=t.title,g=t.type,v=t.uploader,w=Object(n.useState)(!1),j=Object(o.a)(w,2),C=j[0],S=j[1],B=Object(n.useState)(!1),D=Object(o.a)(B,2),N=D[0],F=D[1],z=P(),R=function(){return c>0&&c<3?" [".concat(u.toFixed(2),"%]"):""},Y=function(){return null==f?r:"".concat(f," [").concat(v,"]")},Z=function(){return"video"===g?l.a.createElement(p.a,null):l.a.createElement(p.a,null,l.a.createElement(E.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},l.a.createElement(s.a,{in:N,timeout:"auto",unmountOnExit:!0},l.a.createElement(m.a,{margin:1},l.a.createElement(T,{items:i})))))};function W(){return"video"===g?l.a.createElement(A.a,null):l.a.createElement(_.a,null)}function H(){return c>0&&c<3?l.a.createElement(x.a,null):0===c?l.a.createElement(O.a,null):3===c?l.a.createElement(k.a,null):l.a.createElement(q.a,null)}function K(){return"video"===g?l.a.createElement(E.a,null):l.a.createElement(E.a,{style:{width:"30px"}},l.a.createElement(d.a,{"aria-label":"expand row",size:"small",onClick:function(){return F(!N)}},N?l.a.createElement(h.a,null):l.a.createElement(b.a,null)))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:z.root},l.a.createElement(K,null),l.a.createElement(E.a,{style:{width:"30px"}},l.a.createElement(H,null)),l.a.createElement(E.a,{style:{width:"30px"}},l.a.createElement(W,null)),l.a.createElement(E.a,{component:"th",scope:"row"},l.a.createElement(R,null)," ",l.a.createElement(Y,null)),l.a.createElement(E.a,{align:"right"},l.a.createElement(d.a,{onClick:function(e){return S(!0)},color:"secondary"},l.a.createElement(y.a,null)))),l.a.createElement(Z,null),l.a.createElement(L.a,{open:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(J.a,{id:"alert-dialog-title"},"Confirm Deletion"),l.a.createElement(G.a,null,l.a.createElement(I.a,{id:"alert-dialog-description"},"Are you sure to delete the request ",l.a.createElement("b",null,"'",r,"'"))),l.a.createElement(U.a,null,l.a.createElement(M.a,{onClick:function(){return e.onDelete(a)},color:"primary",variant:"contained",autoFocus:!0}," Yes "),l.a.createElement(M.a,{onClick:function(){return S(!1)},color:"secondary",variant:"contained"},"No"))))}var H=a(183),K=a(135);function Q(e){return l.a.createElement(H.a,{component:K.a},l.a.createElement(z.a,{"aria-label":"collapsible table"},l.a.createElement(R.a,null,e.requests.map((function(t){return l.a.createElement(W,{key:t.id,request:t,onDelete:function(t){return e.onDelete(t)}})})))))}var V=a(184),X=a(185),$=a(91),ee=a(195),te=a(64),ae=a(189),ne=a(186),le=a(192),re=a(62),ce=a.n(re),oe=a(89),ue=a.n(oe),ie=a(63),me=a.n(ie),se=Object(Y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:2},title:{flexGrow:1},toolBar:{borderBottom:"solid 1px"}}}));function de(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],u=Object(n.useState)(""),i=Object(o.a)(u,2),m=i[0],s=i[1],E=Object(n.useState)(0),p=Object(o.a)(E,2),f=p[0],b=p[1],g=Object(n.useState)(null),h=Object(o.a)(g,2),v=h[0],y=h[1],w=Object(n.useState)(!0),O=Object(o.a)(w,2),j=O[0],x=O[1],C=Object(n.useState)(""),k=Object(o.a)(C,2),S=k[0],q=k[1],B=Object(n.useState)(!1),D=Object(o.a)(B,2),N=D[0],A=D[1],F=function(e){console.log("validating URL");var t=null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);return""===e&&(t=!1),q(t?"":"invalid URL"),x(t),A(!0),t},z=se();return l.a.createElement("header",{className:z.root},l.a.createElement(V.a,{position:"static"},l.a.createElement(X.a,null,l.a.createElement(d.a,{className:z.menuButton,edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){y(e.currentTarget)}},l.a.createElement(ue.a,null)),l.a.createElement($.a,{id:"simple-menu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:function(e){console.log(e.target.value),y(null)}},l.a.createElement(ee.a,{onClick:function(e){c(!0),y(null)}},l.a.createElement(ce.a,null),"\xa0\xa0Add"),l.a.createElement(ee.a,{onClick:function(){e.onClear(),y(null)}},l.a.createElement(me.a,null),"\xa0\xa0Clear Completed")),l.a.createElement(te.a,{className:z.title,variant:"h6"}," YouTube Downloader Daemon "))),l.a.createElement(X.a,{className:z.toolBar},l.a.createElement(d.a,{onClick:function(){return c(!0)},color:"inherit",edge:"start"},l.a.createElement(ce.a,null)),l.a.createElement(d.a,{onClick:function(){return e.onClear()}},l.a.createElement(me.a,null))),l.a.createElement(L.a,{open:r,"aria-labelledby":"form-dialog-title"},l.a.createElement(J.a,{id:"form-dialog-title"},"New Download Request"),l.a.createElement(G.a,null,l.a.createElement(ae.a,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",name:"url",fullWidth:!0,value:m,error:!j,helperText:S,onChange:function(e){return s(e.target.value)},onBlur:function(e){N&&F(m)}}),l.a.createElement(ne.a,{label:"Download during off peak hours",control:l.a.createElement(le.a,{id:"schedule",name:"schedule",checked:!f,onChange:function(e){return b(!e.target.checked)}})})),l.a.createElement(U.a,null,l.a.createElement(M.a,{onClick:function(t){F(m)&&(e.onAdd({url:m,schedule:f}),c(!1))},variant:"contained",color:"primary",autoFocus:!0}," Submit "),l.a.createElement(M.a,{onClick:function(){return c(!1)},variant:"contained",color:"secondary"}," Cancel "))))}var Ee=a(187);function pe(){var e=window.location.protocol+"//"+window.location.host.replace("3000","5000"),t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],u=function(){i.a.get(e+"/api/requests").then((function(e){var t=e.data;t.map((function(e){return e.avgPrg=function(e){var t=0;return e.items.forEach((function(e){return t+=e.progress})),null==e.items||0===e.items.length?0:t/e.items.length}(e),e})),c(t)}))};return Object(n.useEffect)((function(){u(),setInterval(u,5e3)}),[]),l.a.createElement(Ee.a,null,l.a.createElement(de,{onAdd:function(t){return function(t){i.a.post(e+"/api/requests",t).then((function(e){console.log("submitted"),u()}))}(t)},onClear:function(){return console.log("clear completed requested"),void i.a.delete(e+"/api/requests").then((function(e){u()}))}}),l.a.createElement(Q,{requests:r,onDelete:function(t){return function(t){console.log("delete requested",t),i.a.delete(e+"/api/requests/"+t).then((function(e){u()}))}(t)}}))}var fe=a(188),be=a(90),ge=Object(be.a)({palette:{primary:{main:"#d32f2f"},secondary:{main:"#9e9e9e"}},status:{danger:"orange"}});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(fe.a,{theme:ge},l.a.createElement(pe,null))),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.aad7d53f.chunk.js.map