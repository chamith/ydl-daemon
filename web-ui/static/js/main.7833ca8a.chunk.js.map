{"version":3,"sources":["components/YddItem.js","components/YddItemList.js","components/DeleteRequestModal.js","components/YddRequest.js","components/YddRequestList.js","components/Header.js","components/Footer.js","components/AddNewRequestModal.js","App.js","Config.js","theme.js","index.js"],"names":["YddItem","props","item","id","title","status","progress","StatusIcon","ProgressText","toFixed","TableRow","key","TableCell","style","padding","width","YddItemList","Table","size","aria-label","margin","TableBody","items","map","DeleteRequestModal","Dialog","open","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","request","url","DialogActions","Button","onClick","onDelete","color","variant","autoFocus","onCancel","useRowStyles","makeStyles","root","YddRequest","type","uploader","useState","isDeleteRequestModalOpen","setDeleteRequestModalOpen","isRowOpen","setRowOpen","classes","TitleText","ItemsRow","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","RequestIcon","ExpandableButtonCell","IconButton","className","component","scope","align","event","YddRequestList","TableContainer","Paper","TableHead","requests","requestId","useStyles","theme","flexGrow","menuButton","marginRight","toolBar","borderBottom","Header","anchorEl","setAnchorEl","AppBar","position","Toolbar","edge","currentTarget","Menu","keepMounted","Boolean","onClose","console","log","target","value","MenuItem","onAdd","onClear","Typography","Footer","Container","AddNewRequestModal","setUrl","schedule","setSchedule","isValidUrl","setValidUrl","urlHelperText","setUrlHelperText","validateOnBlur","setValidateOnBlur","validateUrl","isValid","match","TextField","label","name","fullWidth","error","helperText","onChange","onBlur","FormControlLabel","control","Checkbox","checked","onSubmit","fab","bottom","spacing","right","App","baseUrl","window","location","protocol","host","replace","setRequests","update","setUpdate","isAddNewModalOpen","setIsAddNewModalOpen","getRequests","useTheme","axios","get","then","res","data","avgPrg","sum","forEach","length","useEffect","interval","setInterval","clearInterval","delete","marginTop","height","deleteRequest","Fab","post","addRequest","createMuiTheme","palette","danger","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.7833ca8a.chunk.js","sourcesContent":["import React from 'react'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\n\nexport default function YddItem(props) {\n  const { id, title, status, progress } = props.item;\n\n  const StatusIcon = () => {\n    switch (status) {\n      case 0:\n        return <HourglassEmptyIcon />;\n      case 1:\n        return <AutorenewIcon />;\n      case 2:\n        return <PauseIcon />;\n      case 3:\n        return <DoneIcon />;\n      default:\n        return <ErrorIcon />;\n    }\n  }\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  return (\n    <TableRow key={id}>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <StatusIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <YouTubeIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px' }}> <ProgressText /> {title}</TableCell>\n    </TableRow>)\n} \n","import React from 'react'\nimport YddItem from './YddItem'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\n\nexport default function YddItemList(props) {\n\n    return (\n        <Table size=\"small\" aria-label=\"purchases\" style={{ margin: '0px 0px 0px 75px', width: '95%' }}>\n            <TableBody>\n                {props.items.map((item) => (\n                    <YddItem key={item.id} item={item} />\n                ))}\n            </TableBody>\n        </Table>\n    )\n}\n","import React from 'react'\nimport {Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText, Button} from '@material-ui/core';\n\nexport default function DeleteRequestModal(props) {\n    return (\n        <Dialog\n        open={props.open}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">Confirm Deletion</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete the request <b>'{props.request.url}'</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => props.onDelete(props.request.id)} color=\"primary\" variant=\"contained\" autoFocus> Yes </Button>\n          <Button onClick={() => props.onCancel()} color=\"secondary\" variant=\"contained\">No</Button>\n        </DialogActions>\n      </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport YddItemList from './YddItemList'\nimport { makeStyles } from '@material-ui/core/styles';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport SubscriptionsIcon from '@material-ui/icons/Subscriptions';\nimport DeleteRequestModal from './DeleteRequestModal';\n\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      // borderBottom: 'unset',\n      padding: '5px'\n    },\n  },\n});\n\n\nexport default function YddRequest(props) {\n  const {url, status, progress, items, title, type, uploader } = props.request;\n  const [isDeleteRequestModalOpen, setDeleteRequestModalOpen] = useState(false);\n  const [isRowOpen, setRowOpen] = useState(false);\n  const classes = useRowStyles();\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  const TitleText = () => {\n    return title == null ? url : `${title} [${uploader}]`;\n  }\n\n  const ItemsRow = () => {\n    return type === 'video' ? (<TableRow />) : (\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={isRowOpen} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              <YddItemList items={items} />\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    )\n  }\n\n  function RequestIcon() {\n    return type === 'video' ? <YouTubeIcon /> : <SubscriptionsIcon />;\n  }\n\n  function StatusIcon() {\n    if (status > 0 && status < 3)\n      return <AutorenewIcon />;\n    else if (status === 0)\n      return <HourglassEmptyIcon />;\n    else if (status === 3)\n      return <DoneIcon />;\n    else\n      return <ErrorIcon />;\n  }\n\n  function ExpandableButtonCell() {\n    return type === 'video' ? (<TableCell />) : (\n      <TableCell style={{ width: '30px' }}>\n        <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setRowOpen(!isRowOpen)}>\n          {isRowOpen ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n        </IconButton>\n      </TableCell>\n    );\n  }\n\n  return (\n    <>\n      <TableRow className={classes.root}>\n        <ExpandableButtonCell />\n        <TableCell style={{ width: '30px' }}><StatusIcon /></TableCell>\n        <TableCell style={{ width: '30px' }}><RequestIcon /></TableCell>\n        <TableCell component=\"th\" scope=\"row\"><ProgressText /> <TitleText /></TableCell>\n        <TableCell align=\"right\">\n          <IconButton onClick={(event) => setDeleteRequestModalOpen(true)} color=\"secondary\"><ClearIcon /></IconButton>\n        </TableCell>\n      </TableRow>\n      <ItemsRow />\n      <DeleteRequestModal open={isDeleteRequestModalOpen} request={props.request} onDelete={props.onDelete} onCancel={()=>setDeleteRequestModalOpen(false)}/>\n    </>\n  )\n}\n","import React from 'react'\nimport YddRequest from './YddRequest';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableContainer from '@material-ui/core/TableContainer';\n\nimport Paper from '@material-ui/core/Paper';\nimport { TableCell, TableHead, TableRow } from '@material-ui/core';\n\nexport default function YddRequestList(props) {\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"collapsible table\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={5}>Download Queue</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {props.requests.map((request) => (\n            <YddRequest key={request.id} request={request} onDelete={(requestId) => props.onDelete(requestId)} />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { useState } from 'react'\nimport { Typography, IconButton, Toolbar, AppBar, makeStyles, Menu, MenuItem } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: 2,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  toolBar: {\n    //backgroundColor: theme.palette.secondary.dark,\n    borderBottom: 'solid 1px'\n  }\n}));\n\n\nexport default function Header(props) {\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (event) => {\n    console.log(event.target.value)\n    setAnchorEl(null);\n  };\n\n  const classes = useStyles();\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenuClick}>\n            <MenuIcon />\n          </IconButton>\n          <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} >\n            <MenuItem onClick={event => { props.onAdd(); setAnchorEl(null); }}><AddIcon />&nbsp;&nbsp;Add</MenuItem>\n            <MenuItem onClick={() => { props.onClear(); setAnchorEl(null); }}><ClearAllIcon />&nbsp;&nbsp;Clear Completed</MenuItem>\n          </Menu>\n          <Typography className={classes.title} variant=\"h6\" > Download Daemon </Typography>\n        </Toolbar>\n      </AppBar>\n      <Toolbar className={classes.toolBar}>\n        <IconButton onClick={props.onAdd} color=\"inherit\" edge=\"start\" ><AddIcon /></IconButton>\n        <IconButton onClick={props.onClear}><ClearAllIcon /></IconButton>\n      </Toolbar>\n    </>\n  )\n}","import React from 'react'\nimport { Paper, Container } from '@material-ui/core'\n\nexport default function Footer() {\n    return (\n        <Container/>\n    )\n}\n","import React, { useState } from 'react'\nimport { Checkbox, Button, TextField, Dialog, DialogActions, \n    DialogContent, FormControlLabel, DialogTitle} from '@material-ui/core'\n\nexport default function AddNewRequestModal(props) {\n    const [url, setUrl] = useState('');\n    const [schedule, setSchedule] = useState(0);\n    const [isValidUrl, setValidUrl] = useState(true);\n    const [urlHelperText, setUrlHelperText] = useState('');\n    const [validateOnBlur, setValidateOnBlur] = useState(false);\n\n    const handleSubmit = (event) => {\n        if(validateUrl(url)){\n          props.onSubmit({ url: url, schedule: schedule });\n        }\n      }\n        \n      const validateUrl = (url) => {\n        let res = url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n        let isValid = (res !== null);\n        \n        setUrlHelperText(isValid? '': 'invalid URL');\n        setValidUrl(isValid);\n        setValidateOnBlur(true);\n    \n        return isValid;\n      }\n    \n      //const classes = useStyles();\n\n    return (\n        <Dialog open={props.open} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">New Download Request</DialogTitle>\n            <DialogContent>\n                <TextField autoFocus margin=\"dense\" id=\"url\" label=\"URL\" type=\"url\" name=\"url\"\n                    fullWidth={true} value={url} error={!isValidUrl} helperText={urlHelperText} onChange={event => setUrl(event.target.value)} onBlur={(event) => { if (validateOnBlur) validateUrl(url) }} />\n                <FormControlLabel label=\"Download during off peak hours\"\n                    control={<Checkbox id=\"schedule\" name=\"schedule\" checked={!schedule} onChange={(event) => setSchedule(!event.target.checked)} />} />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\" autoFocus> Submit </Button>\n                <Button onClick={() => props.onCancel()} variant=\"contained\" color=\"secondary\"> Cancel </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {getApiHost} from './Config';\nimport YddRequestList from './components/YddRequestList';\nimport Header from './components/Header';\nimport Container from '@material-ui/core/Container';\nimport {Fab} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Footer from './components/Footer';\nimport AddNewRequestModal from './components/AddNewRequestModal';\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(5),\n    right: theme.spacing(5),\n  }\n}));\n\nexport default function App() {\n  const baseUrl = getApiHost();\n  const [requests, setRequests] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [isAddNewModalOpen, setIsAddNewModalOpen] = useState(false);\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const deleteRequest = requestId => {\n    console.log('delete requested', requestId)\n    axios.delete(baseUrl + '/api/requests/' + requestId)\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const addRequest = (request) => {\n    axios.post(baseUrl + '/api/requests', request)\n      .then(res => {\n        console.log('submitted')\n        setIsAddNewModalOpen(false);\n        setUpdate(true);\n      })\n  }\n\n  const clearCompletedRequests = () => {\n    console.log('clear completed requested')\n    axios.delete(baseUrl + '/api/requests')\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const avgPrg = (request) => {\n    let sum = 0;\n    request.items.forEach(item => sum += item.progress)\n    return request.items == null || request.items.length === 0 ? 0 : sum / request.items.length;\n  };\n\n  const getRequests = () => {\n    axios.get(baseUrl + '/api/requests')\n      .then(res => {\n        const requests = res.data\n        requests.map((request) => {\n          request.avgPrg = avgPrg(request)\n          return request;\n        });\n        setRequests(requests);\n      })\n  }\n\n  useEffect(() => {\n    getRequests();\n    const interval = setInterval(getRequests, 5000); // runs every 5 seconds.\n\n    return () => clearInterval(interval);\n  }, [])\n\n  useEffect(() => {\n    getRequests();\n  }, [update])\n  \n\n  return (\n    <>\n    <Header onAdd={()=> setIsAddNewModalOpen(true)} onClear={() => clearCompletedRequests()} />\n    <Container style={{marginTop:'15px', position:'relative', height:'100%'}}>\n      <YddRequestList requests={requests} onDelete={(requestId) => deleteRequest(requestId)} />\n      <Fab size=\"medium\" className={classes.fab} color=\"primary\" aria-label=\"add\" onClick={()=> setIsAddNewModalOpen(true)}>\n        <AddIcon />\n      </Fab>\n    </Container>\n    <Footer></Footer>\n    <AddNewRequestModal open={isAddNewModalOpen} onCancel={()=> setIsAddNewModalOpen(false)} onSubmit={ request => addRequest(request)}/>\n    </>\n  );\n}\n\n","export function getApiHost(){\n    return window.location.protocol + '//' + window.location.host.replace('3000', '5000')\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    // primary: {main:'#5dd1e3'},\n    // secondary: {main:'#9e9e9e'},\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n    <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}