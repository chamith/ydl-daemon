(this["webpackJsonpyoutube-dl-webui"]=this["webpackJsonpyoutube-dl-webui"]||[]).push([[0],{112:function(e,t,a){e.exports=a(140)},117:function(e,t,a){},118:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a.n(r),o=(a(117),a(43)),u=a(84),i=a(97),s=a(95),m=(a(118),a(41)),d=a.n(m),E=function e(){Object(o.a)(this,e),this.api_host_dev="localhost:9001",this.getApiHost=function(){return window.location.protocol+"//"+window.location.host.replace("3000","5000")},this.getEnv=function(){return"dev"}},p=a(19),f=a(201),g=a(186),h=a(187),b=a(182),v=a(181),w=a(91),y=a.n(w),q=a(90),C=a.n(q),O=a(92),j=a.n(O),k=a(44),x=a.n(k),R=a(52),S=a.n(R),B=a(53),D=a.n(B),A=a(54),U=a.n(A),N=a(88),F=a.n(N),z=a(56),T=a.n(z);function _(e){var t=e.item,a=t.id,n=t.title,r=t.status,c=t.progress,o=function(){switch(r){case 0:return l.a.createElement(x.a,null);case 1:return l.a.createElement(S.a,null);case 2:return l.a.createElement(F.a,null);case 3:return l.a.createElement(D.a,null);default:return l.a.createElement(U.a,null)}},u=function(){return r>0&&r<3?" [".concat(c.toFixed(2),"%]"):""};return l.a.createElement(v.a,{key:a},l.a.createElement(b.a,{style:{padding:"6px",width:"30px"}},l.a.createElement(o,null)),l.a.createElement(b.a,{style:{padding:"6px",width:"30px"}},l.a.createElement(T.a,null)),l.a.createElement(b.a,{style:{padding:"6px"}}," ",l.a.createElement(u,null)," ",n))}var L=a(183),M=a(184);function P(e){return l.a.createElement(L.a,{size:"small","aria-label":"purchases",style:{margin:"0px 0px 0px 75px",width:"75%"}},l.a.createElement(M.a,null,e.items.map((function(e){return l.a.createElement(_,{key:e.id,item:e})}))))}var W=a(204),G=a(191),H=a(189),I=a(190),J=a(188),Y=a(192),Z=a(185),$=a(89),K=a.n($),Q=Object(Z.a)({root:{"& > *":{padding:"5px"}}});function V(e){var t=e.request,a=t.id,r=t.url,c=t.status,o=t.progress,u=t.items,i=t.title,s=t.type,m=t.uploader,d=Object(n.useState)(!1),E=Object(p.a)(d,2),w=E[0],q=E[1],O=Object(n.useState)(!1),k=Object(p.a)(O,2),R=k[0],B=k[1],A=Q(),N=function(){return c>0&&c<3?" [".concat(o.toFixed(2),"%]"):""},F=function(){return null==i?r:"".concat(i," [").concat(m,"]")},z=function(){return"video"==s?l.a.createElement(v.a,null):l.a.createElement(v.a,null,l.a.createElement(b.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},l.a.createElement(g.a,{in:R,timeout:"auto",unmountOnExit:!0},l.a.createElement(f.a,{margin:1},l.a.createElement(P,{items:u})))))};function _(){return"video"==s?l.a.createElement(T.a,null):l.a.createElement(K.a,null)}function L(){return c>0&&c<3?l.a.createElement(S.a,null):0===c?l.a.createElement(x.a,null):3===c?l.a.createElement(D.a,null):l.a.createElement(U.a,null)}function M(){return"video"==s?l.a.createElement(b.a,null):l.a.createElement(b.a,{style:{width:"30px"}},l.a.createElement(h.a,{"aria-label":"expand row",size:"small",onClick:function(){return B(!R)}},R?l.a.createElement(C.a,null):l.a.createElement(y.a,null)))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{className:A.root},l.a.createElement(M,null),l.a.createElement(b.a,{style:{width:"30px"}},l.a.createElement(L,null)),l.a.createElement(b.a,{style:{width:"30px"}},l.a.createElement(_,null)),l.a.createElement(b.a,{component:"th",scope:"row"},l.a.createElement(N,null)," ",l.a.createElement(F,null)),l.a.createElement(b.a,{align:"right"},l.a.createElement(h.a,{onClick:function(e){return q(!0)},color:"secondary"},l.a.createElement(j.a,null)))),l.a.createElement(z,null),l.a.createElement(W.a,{open:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(J.a,{id:"alert-dialog-title"},"Confirm Deletion"),l.a.createElement(H.a,null,l.a.createElement(I.a,{id:"alert-dialog-description"},"Are you sure to delete the request ",l.a.createElement("b",null,"'",r,"'"))),l.a.createElement(G.a,null,l.a.createElement(Y.a,{onClick:function(){return e.onDelete(a)},color:"primary",variant:"contained",autoFocus:!0}," Yes "),l.a.createElement(Y.a,{onClick:function(){return q(!1)},color:"secondary",variant:"contained"},"No"))))}var X=a(193),ee=a(142);function te(e){return l.a.createElement(X.a,{component:ee.a},l.a.createElement(L.a,{"aria-label":"collapsible table"},l.a.createElement(M.a,null,e.requests.map((function(t){return l.a.createElement(V,{key:t.id,request:t,onDelete:function(t){return e.onDelete(t)}})})))))}var ae=a(194),ne=a(195),le=a(96),re=a(206),ce=a(67),oe=a(200),ue=a(196),ie=a(203),se=a(65),me=a.n(se),de=a(93),Ee=a.n(de),pe=a(66),fe=a.n(pe),ge=Object(Z.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:2},title:{flexGrow:1},toolBar:{borderBottom:"solid 1px"}}}));function he(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),u=Object(p.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)(0),d=Object(p.a)(m,2),E=d[0],f=d[1],g=Object(n.useState)(null),b=Object(p.a)(g,2),v=b[0],w=b[1],y=Object(n.useState)(!0),q=Object(p.a)(y,2),C=q[0],O=q[1],j=Object(n.useState)(""),k=Object(p.a)(j,2),x=k[0],R=k[1],S=Object(n.useState)(!1),B=Object(p.a)(S,2),D=B[0],A=B[1],U=function(e){console.log("validating URL");var t=null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);return""===e&&(t=!1),R(t?"":"invalid URL"),O(t),A(!0),t},N=ge();return l.a.createElement("header",{className:N.root},l.a.createElement(ae.a,{position:"static"},l.a.createElement(ne.a,null,l.a.createElement(h.a,{className:N.menuButton,edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){w(e.currentTarget)}},l.a.createElement(Ee.a,null)),l.a.createElement(le.a,{id:"simple-menu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:function(e){console.log(e.target.value),w(null)}},l.a.createElement(re.a,{onClick:function(e){c(!0),w(null)}},l.a.createElement(me.a,null),"\xa0\xa0Add"),l.a.createElement(re.a,{onClick:function(){e.onClearCompleted(),w(null)}},l.a.createElement(fe.a,null),"\xa0\xa0Clear Completed")),l.a.createElement(ce.a,{className:N.title,variant:"h6"}," YouTube Downloader Daemon "))),l.a.createElement(ne.a,{className:N.toolBar},l.a.createElement(h.a,{onClick:function(){return c(!0)},color:"inherit",edge:"start"},l.a.createElement(me.a,null)),l.a.createElement(h.a,{onClick:function(){return e.onClearCompleted()}},l.a.createElement(fe.a,null))),l.a.createElement(W.a,{open:r,"aria-labelledby":"form-dialog-title"},l.a.createElement(J.a,{id:"form-dialog-title"},"New Download Request"),l.a.createElement(H.a,null,l.a.createElement(oe.a,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",name:"url",fullWidth:!0,value:i,error:!C,helperText:x,onChange:function(e){return s(e.target.value)},onBlur:function(e){D&&U(i)}}),l.a.createElement(ue.a,{label:"Download during off peak hours",control:l.a.createElement(ie.a,{id:"schedule",name:"schedule",checked:!E,onChange:function(e){return f(!e.target.checked)}})})),l.a.createElement(G.a,null,l.a.createElement(Y.a,{onClick:function(t){U(i)&&(e.onAdd({url:i,schedule:E}),c(!1))},variant:"contained",color:"primary",autoFocus:!0}," Submit "),l.a.createElement(Y.a,{onClick:function(){return c(!1)},variant:"contained",color:"secondary"}," Cancel "))))}var be=a(198),ve=a(197),we=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).baseUrl=(new E).getApiHost(),e.deleteRequest=function(t){console.log("delete requested",t),d.a.delete(e.baseUrl+"/api/requests/"+t).then((function(t){e.getRequests()}))},e.addRequest=function(t){d.a.post(e.baseUrl+"/api/requests",t).then((function(t){console.log("submitted"),e.getRequests()}))},e.clearCompletedRequests=function(){console.log("clear completed requested"),d.a.delete(e.baseUrl+"/api/requests").then((function(t){e.getRequests()}))},e.avgPrg=function(e){var t=0;return e.items.forEach((function(e){return t+=e.progress})),null==e.items||0===e.items.length?0:t/e.items.length},e.getRequests=function(){d.a.get(e.baseUrl+"/api/requests").then((function(t){var a=t.data;a.map((function(t){return t.avgPrg=e.avgPrg(t),t})),e.setState({requests:a})}))},e.state={requests:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getRequests(),setInterval(this.getRequests,5e3)}},{key:"render",value:function(){var e=this;return l.a.createElement(ve.a,null,l.a.createElement(be.a,{container:!0,spacing:2},l.a.createElement(be.a,{item:!0,xs:12},l.a.createElement(he,{onAdd:function(t){return e.addRequest(t)},onClearCompleted:function(){return e.clearCompletedRequests()}})),l.a.createElement(be.a,{item:!0,xs:12},l.a.createElement(te,{requests:this.state.requests,onDelete:function(t){return e.deleteRequest(t)}}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(199),qe=a(94),Ce=Object(qe.a)({palette:{primary:{main:"#d32f2f"},secondary:{main:"#9e9e9e"}},status:{danger:"orange"}});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ye.a,{theme:Ce},l.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.274ffe77.chunk.js.map