(this["webpackJsonpyoutube-dl-webui"]=this["webpackJsonpyoutube-dl-webui"]||[]).push([[0],{111:function(e,t,a){e.exports=a(139)},116:function(e,t,a){},117:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=(a(116),a(15)),u=a(20),i=a(24),s=a(22),m=(a(117),a(62)),p=a.n(m),d=function e(){Object(c.a)(this,e),this.api_host_dev="localhost:9001",this.getApiHost=function(){return window.location.protocol+"//"+window.location.host.replace("3000","5000")},this.getEnv=function(){return"dev"}},E=a(201),h=a(186),f=a(185),g=a(181),b=a(180),v=a(90),O=a.n(v),y=a(89),w=a.n(y),j=a(91),k=a.n(j),q=a(46),C=a.n(q),x=a(54),R=a.n(x),S=a(55),D=a.n(S),A=a(56),B=a.n(A),T=a(88),M=a.n(T),N=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).statusIcon=function(){switch(e.props.item.status){case 0:return r.a.createElement(C.a,null);case 1:return r.a.createElement(R.a,null);case 2:return r.a.createElement(M.a,null);case 3:return r.a.createElement(D.a,null);default:return r.a.createElement(B.a,null)}},e.progressText=function(){var t=e.props.item.status,a=e.props.item.progress;return t>0&&t<3?" [".concat(a.toFixed(2),"%]"):""},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement(b.a,{key:e.id},r.a.createElement(g.a,{component:"th",scope:"row"},this.statusIcon()),r.a.createElement(g.a,null," ",this.progressText()," ",e.title))}}]),a}(n.Component),F=a(182),I=a(184),U=a(183),P=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(F.a,{size:"small","aria-label":"purchases",style:{margin:"0px 0px 0px 75px",width:"75%"}},r.a.createElement(U.a,null,r.a.createElement(b.a,null,r.a.createElement(g.a,{style:{width:"40px"}},"Status"),r.a.createElement(g.a,null,"Title"))),r.a.createElement(I.a,null,this.props.items.map((function(e){return r.a.createElement(N,{key:e.id,item:e})}))))}}]),a}(n.Component),W=a(204),z=a(190),G=a(188),H=a(189),J=a(187),L=a(191),Y=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).statusIcon=function(){var e=n.props.request.status;return e>0&&e<3?r.a.createElement(R.a,null):0===e?r.a.createElement(C.a,null):3===e?r.a.createElement(D.a,null):r.a.createElement(B.a,null)},n.progressText=function(){var e=n.props.request.status,t=n.props.request.progress;return e>0&&e<3?" [".concat(t.toFixed(2),"%]"):""},n.state={isModalOpen:!1,isRowOpen:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.request;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:function(e){return{root:{"& > *":{borderBottom:"unset"}}}}.root},r.a.createElement(g.a,null,r.a.createElement(f.a,{"aria-label":"expand row",size:"small",onClick:function(){return e.setState({isRowOpen:!e.state.isRowOpen})}},this.state.isRowOpen?r.a.createElement(w.a,null):r.a.createElement(O.a,null))),r.a.createElement(g.a,null,this.statusIcon()),r.a.createElement(g.a,{component:"th",scope:"row"},this.progressText()," ",t.url),r.a.createElement(g.a,{align:"right"},r.a.createElement(f.a,{onClick:function(t){return e.setState({isModalOpen:!0})},color:"secondary"},r.a.createElement(k.a,null)))),r.a.createElement(b.a,null,r.a.createElement(g.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(h.a,{in:this.state.isRowOpen,timeout:"auto",unmountOnExit:!0},r.a.createElement(E.a,{margin:1},r.a.createElement(P,{items:t.items}))))),r.a.createElement(W.a,{open:this.state.isModalOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(J.a,{id:"alert-dialog-title"},"Confirm Deletion"),r.a.createElement(G.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},"Are you sure to delete the request ",r.a.createElement("b",null,"'",t.url,"'"))),r.a.createElement(z.a,null,r.a.createElement(L.a,{onClick:function(){return e.props.onDelete(t.id)},color:"primary",variant:"outlined",autoFocus:!0}," Yes "),r.a.createElement(L.a,{onClick:function(){return e.setState({isModalOpen:!1})},color:"secondary",variant:"outlined"},"No"))))}}]),a}(n.Component),_=a(192),$=a(141),K=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(_.a,{component:$.a},r.a.createElement(F.a,{"aria-label":"collapsible table"},r.a.createElement(U.a,null,r.a.createElement(b.a,null,r.a.createElement(g.a,{style:{width:"40px"}}),r.a.createElement(g.a,{style:{width:"40px"}},"Status"),r.a.createElement(g.a,null,"URL"),r.a.createElement(g.a,{align:"right"},"Actions"))),r.a.createElement(I.a,null,this.props.requests.map((function(t){return r.a.createElement(Y,{key:t.id,request:t,onDelete:function(t){return e.props.onDelete(t)}})})))))}}]),a}(n.Component),Q=a(44),V=a(193),X=a(194),Z=a(195),ee=a(95),te=a(206),ae=a(69),ne=a(200),re=a(196),le=a(203),oe=a(93),ce=a.n(oe),ue=a(92),ie=a.n(ue),se=Object(V.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:2},title:{flexGrow:1},toolBar:{backgroundColor:e.palette.secondary.light}}}));function me(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(null),c=Object(Q.a)(o,2),u=c[0],i=c[1],s=Object(n.useState)(0),m=Object(Q.a)(s,2),p=m[0],d=m[1],E=Object(n.useState)(null),h=Object(Q.a)(E,2),g=h[0],b=h[1],v=function(e){console.log(e.target.value),b(null)},O=se();return r.a.createElement("header",{className:O.root},r.a.createElement(X.a,{position:"static"},r.a.createElement(Z.a,null,r.a.createElement(f.a,{className:O.menuButton,edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){b(e.currentTarget)}},r.a.createElement(ie.a,null)),r.a.createElement(ee.a,{id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:v},r.a.createElement(te.a,{onClick:v},"Add"),r.a.createElement(te.a,{onClick:v},"Delete"),r.a.createElement(te.a,{onClick:v},"Clear Completed Requests")),r.a.createElement(ae.a,{className:O.title,variant:"h6"},"YouTube Downloader Daemon"))),r.a.createElement(Z.a,{className:O.toolBar},r.a.createElement(f.a,{onClick:function(){return l(!0)},color:"inherit",edge:"start"},r.a.createElement(ce.a,null))),r.a.createElement(W.a,{open:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(J.a,{id:"form-dialog-title"},"New Download Request"),r.a.createElement(G.a,null,r.a.createElement(ne.a,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"url",name:"url",fullWidth:!0,value:u,onChange:function(e){return i(e.target.value)}}),r.a.createElement(re.a,{label:"Download during off peak hours",control:r.a.createElement(le.a,{id:"schedule",name:"schedule",checked:!p,onChange:function(e){return d(!e.target.checked)}})})),r.a.createElement(z.a,null,r.a.createElement(L.a,{onClick:function(e){n.props.onAdd({url:u,schedule:p})},variant:"outlined",color:"primary",autoFocus:!0},"Submit"),r.a.createElement(L.a,{onClick:function(){return l(!1)},variant:"outlined",color:"secondary"},"Cancel"))))}var pe=a(198),de=a(197),Ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).baseUrl=(new d).getApiHost(),e.deleteRequest=function(t){console.log("delete requested",t),p.a.delete(e.baseUrl+"/api/requests/"+t).then((function(t){e.getRequests()}))},e.addRequest=function(t){p.a.post(e.baseUrl+"/api/requests",t).then((function(t){console.log("submitted"),e.getRequests()}))},e.avgPrg=function(e){var t=0;return e.items.forEach((function(e){return t+=e.progress})),null==e.items||0===e.items.length?0:t/e.items.length},e.getRequests=function(){p.a.get(e.baseUrl+"/api/requests").then((function(t){var a=t.data;a.map((function(t){return t.avgPrg=e.avgPrg(t),t})),e.setState({requests:a})}))},e.state={requests:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getRequests(),setInterval(this.getRequests,5e3)}},{key:"render",value:function(){var e=this;return r.a.createElement(de.a,null,r.a.createElement(pe.a,{container:!0,spacing:2},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(me,{onAdd:function(t){return e.addRequest(t)}})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(K,{requests:this.state.requests,onDelete:function(t){return e.deleteRequest(t)}}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=a(199),fe=a(94),ge=a(64),be=a(63),ve=Object(fe.a)({palette:{primary:ge.a,secondary:be.a},status:{danger:"orange"}});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he.a,{theme:ve},r.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[111,1,2]]]);
//# sourceMappingURL=main.2c659bb1.chunk.js.map