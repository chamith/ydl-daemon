{"version":3,"sources":["components/YddItem.js","components/YddItemList.js","components/YddRequest.js","components/YddRequestList.js","components/Header.js","App.js","Config.js","theme.js","index.js"],"names":["YddItem","props","item","id","title","status","progress","StatusIcon","ProgressText","toFixed","TableRow","key","TableCell","style","padding","width","YddItemList","Table","size","aria-label","margin","TableBody","items","map","useRowStyles","makeStyles","root","YddRequest","request","url","type","uploader","useState","isModalOpen","setModalOpen","isRowOpen","setRowOpen","classes","TitleText","ItemsRow","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","RequestIcon","ExpandableButtonCell","IconButton","onClick","className","component","scope","align","event","color","Dialog","open","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onDelete","variant","autoFocus","YddRequestList","TableContainer","Paper","requests","requestId","useStyles","theme","flexGrow","menuButton","marginRight","toolBar","borderBottom","Header","setUrl","schedule","setSchedule","anchorEl","setAnchorEl","isValidUrl","setValidUrl","urlHelperText","setUrlHelperText","validateOnBlur","setValidateOnBlur","validateUrl","isValid","match","AppBar","position","Toolbar","edge","currentTarget","Menu","keepMounted","Boolean","onClose","console","log","target","value","MenuItem","onClear","Typography","TextField","label","name","fullWidth","error","helperText","onChange","onBlur","FormControlLabel","control","Checkbox","checked","onAdd","App","baseUrl","window","location","protocol","host","replace","setRequests","update","setUpdate","getRequests","axios","get","then","res","data","avgPrg","sum","forEach","length","useEffect","interval","setInterval","clearInterval","Container","post","addRequest","delete","deleteRequest","createMuiTheme","palette","primary","main","secondary","danger","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.42d69967.chunk.js","sourcesContent":["import React from 'react'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\n\nexport default function YddItem(props) {\n  const { id, title, status, progress } = props.item;\n\n  const StatusIcon = () => {\n    switch (status) {\n      case 0:\n        return <HourglassEmptyIcon />;\n      case 1:\n        return <AutorenewIcon />;\n      case 2:\n        return <PauseIcon />;\n      case 3:\n        return <DoneIcon />;\n      default:\n        return <ErrorIcon />;\n    }\n  }\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  return (\n    <TableRow key={id}>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <StatusIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px', width: '30px' }}>\n        <YouTubeIcon />\n      </TableCell>\n      <TableCell style={{ padding: '6px' }}> <ProgressText /> {title}</TableCell>\n    </TableRow>)\n} \n","import React from 'react'\nimport YddItem from './YddItem'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\n\nexport default function YddItemList(props) {\n\n    return (\n        <Table size=\"small\" aria-label=\"purchases\" style={{ margin: '0px 0px 0px 75px', width: '95%' }}>\n            <TableBody>\n                {props.items.map((item) => (\n                    <YddItem key={item.id} item={item} />\n                ))}\n            </TableBody>\n        </Table>\n    )\n}\n","import React, { useState } from 'react'\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport YddItemList from './YddItemList'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport SubscriptionsIcon from '@material-ui/icons/Subscriptions';\n\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      // borderBottom: 'unset',\n      padding: '5px'\n    },\n  },\n});\n\n\nexport default function YddRequest(props) {\n  const { id, url, status, progress, items, title, type, uploader } = props.request;\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [isRowOpen, setRowOpen] = useState(false);\n  const classes = useRowStyles();\n\n  const ProgressText = () => {\n    return status > 0 && status < 3 ? (` [${progress.toFixed(2)}%]`) : '';\n  }\n\n  const TitleText = () => {\n    return title == null ? url : `${title} [${uploader}]`;\n  }\n\n  const ItemsRow = () => {\n    return type === 'video' ? (<TableRow />) : (\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={isRowOpen} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              <YddItemList items={items} />\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    )\n  }\n\n  function RequestIcon() {\n    return type === 'video' ? <YouTubeIcon /> : <SubscriptionsIcon />;\n  }\n\n  function StatusIcon() {\n    if (status > 0 && status < 3)\n      return <AutorenewIcon />;\n    else if (status === 0)\n      return <HourglassEmptyIcon />;\n    else if (status === 3)\n      return <DoneIcon />;\n    else\n      return <ErrorIcon />;\n  }\n\n  function ExpandableButtonCell() {\n    return type === 'video' ? (<TableCell />) : (\n      <TableCell style={{ width: '30px' }}>\n        <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setRowOpen(!isRowOpen)}>\n          {isRowOpen ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n        </IconButton>\n      </TableCell>\n    );\n  }\n\n  return (\n    <>\n      <TableRow className={classes.root}>\n        <ExpandableButtonCell />\n        <TableCell style={{ width: '30px' }}><StatusIcon /></TableCell>\n        <TableCell style={{ width: '30px' }}><RequestIcon /></TableCell>\n        <TableCell component=\"th\" scope=\"row\"><ProgressText /> <TitleText /></TableCell>\n        <TableCell align=\"right\">\n          <IconButton onClick={(event) => setModalOpen(true)} color=\"secondary\"><ClearIcon /></IconButton>\n        </TableCell>\n      </TableRow>\n      <ItemsRow />\n      <Dialog\n        open={isModalOpen}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">Confirm Deletion</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete the request <b>'{url}'</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => props.onDelete(id)} color=\"primary\" variant=\"contained\" autoFocus> Yes </Button>\n          <Button onClick={() => setModalOpen(false)} color=\"secondary\" variant=\"contained\">No</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\nimport YddRequest from './YddRequest';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableContainer from '@material-ui/core/TableContainer';\n\nimport Paper from '@material-ui/core/Paper';\n\nexport default function YddRequestList(props) {\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"collapsible table\">\n        <TableBody>\n          {props.requests.map((request) => (\n            <YddRequest key={request.id} request={request} onDelete={(requestId) => props.onDelete(requestId)} />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { useState } from 'react'\nimport { Typography, IconButton, Checkbox, Button, TextField, Dialog, DialogActions, DialogContent, FormControlLabel, DialogTitle, Toolbar, AppBar, makeStyles, Menu, MenuItem } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: 2,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  toolBar: {\n    //backgroundColor: theme.palette.secondary.dark,\n    borderBottom: 'solid 1px'\n  }\n}));\n\n\nexport default function Header(props) {\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [url, setUrl] = useState('');\n  const [schedule, setSchedule] = useState(0);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [isValidUrl, setValidUrl] = useState(true);\n  const [urlHelperText, setUrlHelperText] = useState('');\n  const [validateOnBlur, setValidateOnBlur] = useState(false);\n\n  const handleSubmit = (event) => {\n    if(validateUrl(url)){\n      props.onAdd({ url: url, schedule: schedule });\n      setModalOpen(false);\n    }\n  }\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (event) => {\n    console.log(event.target.value)\n    setAnchorEl(null);\n  };\n\n  const validateUrl = (url) => {\n    let res = url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n    let isValid = (res !== null);\n    \n    setUrlHelperText(isValid? '': 'invalid URL');\n    setValidUrl(isValid);\n    setValidateOnBlur(true);\n\n    return isValid;\n  }\n\n  const classes = useStyles();\n  return (\n    <header className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleClick}>\n            <MenuIcon />\n          </IconButton>\n          <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} >\n            <MenuItem onClick={event => { setModalOpen(true); setAnchorEl(null); }}><AddIcon />&nbsp;&nbsp;Add</MenuItem>\n            <MenuItem onClick={() => { props.onClear(); setAnchorEl(null); }}><ClearAllIcon />&nbsp;&nbsp;Clear Completed</MenuItem>\n          </Menu>\n          <Typography className={classes.title} variant=\"h6\" > YouTube Downloader Daemon </Typography>\n        </Toolbar>\n      </AppBar>\n      <Toolbar className={classes.toolBar}>\n        <IconButton onClick={() => setModalOpen(true)} color=\"inherit\" edge=\"start\" ><AddIcon /></IconButton>\n        <IconButton onClick={() => props.onClear()}><ClearAllIcon/></IconButton>\n      </Toolbar>\n      <Dialog open={isModalOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">New Download Request</DialogTitle>\n        <DialogContent>\n          <TextField autoFocus margin=\"dense\" id=\"url\" label=\"URL\" type=\"url\" name=\"url\" \n            fullWidth={true} value={url} error={!isValidUrl} helperText={urlHelperText} onChange={event => setUrl(event.target.value)} onBlur={(event)=> {if (validateOnBlur) validateUrl(url)}}/>\n          <FormControlLabel label=\"Download during off peak hours\" \n            control={<Checkbox id=\"schedule\" name=\"schedule\" checked={!schedule} onChange={(event) => setSchedule(!event.target.checked)} />} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\" autoFocus> Submit </Button>\n          <Button onClick={() => setModalOpen(false)} variant=\"contained\" color=\"secondary\"> Cancel </Button>\n        </DialogActions>\n      </Dialog>\n    </header>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {getApiHost} from './Config';\nimport YddRequestList from './components/YddRequestList';\nimport Header from './components/Header';\nimport Container from '@material-ui/core/Container';\n\nexport default function App() {\n  const baseUrl = getApiHost();\n  const [requests, setRequests] = useState([]);\n  const [update, setUpdate] = useState(false);\n\n  const deleteRequest = requestId => {\n    console.log('delete requested', requestId)\n    axios.delete(baseUrl + '/api/requests/' + requestId)\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const addRequest = (request) => {\n    axios.post(baseUrl + '/api/requests', request)\n      .then(res => {\n        console.log('submitted')\n        setUpdate(true);\n      })\n  }\n\n  const clearCompletedRequests = () => {\n    console.log('clear completed requested')\n    axios.delete(baseUrl + '/api/requests')\n      .then(res => {\n        setUpdate(true);\n      })\n  }\n\n  const avgPrg = (request) => {\n    let sum = 0;\n    request.items.forEach(item => sum += item.progress)\n    return request.items == null || request.items.length === 0 ? 0 : sum / request.items.length;\n  };\n\n  const getRequests = () => {\n    axios.get(baseUrl + '/api/requests')\n      .then(res => {\n        const requests = res.data\n        requests.map((request) => {\n          request.avgPrg = avgPrg(request)\n          return request;\n        });\n        setRequests(requests);\n      })\n  }\n\n  useEffect(() => {\n    getRequests();\n    const interval = setInterval(getRequests, 5000); // runs every 5 seconds.\n\n    return () => clearInterval(interval);\n  }, [])\n\n  useEffect(() => {\n    getRequests();\n  }, [update])\n  \n  return (\n    <Container>\n      <Header onAdd={(request) => addRequest(request)} onClear={() => clearCompletedRequests()} />\n      <YddRequestList requests={requests} onDelete={(requestId) => deleteRequest(requestId)} />\n    </Container>\n  );\n}\n\n","export function getApiHost(){\n    return window.location.protocol + '//' + window.location.host.replace('3000', '5000')\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {main:'#d32f2f'},\n    secondary: {main:'#9e9e9e'},\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n    <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}